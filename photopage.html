<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Photos</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Prevent scrolling when page is locked, but keep navbar accessible */
    body.locked {
      overflow: hidden;
    }
    body.locked .page-content {
      pointer-events: none; /* disables scrolling and interaction with content */
    }
    body.locked .navbar,
    body.locked .mobile-toggle {
      pointer-events: auto; /* allow navbar interactions */
    }
  </style>
</head>
<body class="photo-page locked">

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-inner">
      <div class="brand">Shaya Udoff</div>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="photopage.html" class="active">Photos</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <div class="mobile-toggle">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </div>
  </nav>

  <!-- Mobile side panel -->
  <div class="side-panel" id="sidePanel">
    <button class="close-btn" id="closePanel">&times;</button>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="photopage.html" class="active">Photos</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </div>

  <!-- Lock Overlay -->
  <div id="lockOverlay" class="lock-overlay" style="position:fixed; top:80px; left:0; right:0; bottom:0; background: rgba(0,0,0,0.7); display:flex; justify-content:center; align-items:center; z-index:1100;">
    <div class="lock-box" style="background: rgba(255,255,255,0.08); padding: 30px 40px; border-radius:15px; text-align:center; max-width:400px; width:90%; box-shadow:0 4px 15px rgba(0,0,0,0.3); backdrop-filter:blur(5px);">
      <h2>Access Photos</h2>
      <form id="lockForm">
        <input type="password" id="accessCode" maxlength="4" placeholder="0000" />
        <button type="submit" id="unlockBtn">Unlock</button>
      </form>
      <p id="lockMessage" class="lock-message"></p>
    </div>
  </div>

  <!-- Page Content -->
  <div class="page-content">
    <section class="photo-gallery card">
      <h2>All Photos</h2>
      <div class="photo-grid" id="photoGrid"></div>
    </section>
  </div>

  <!-- Lightbox Overlay -->
  <div id="lightboxOverlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.85); justify-content:center; align-items:center; z-index:1200;">
    <img id="lightboxImage" src="" alt="" style="max-width:90%; max-height:90%; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.5);" />
  </div>

  <!-- Footer -->
  <footer class="card">
    <span class="copyright-part">&copy; 2025 Udoff Web Development</span>
    <span class="rights-part"><i>All rights reserved</i></span>
  </footer>

  <!-- Scripts -->
  <script>
    // ===== Dynamic Photo Loader with Lightbox =====
    const photos = [
      "001.jpeg","002.jpeg","003.jpeg","004.jpeg","005.jpeg",
      "006.jpeg","007.jpeg","007.jpeg","007.jpeg","007.jpeg",
      "007.jpeg","007.jpeg","007.jpeg","007.jpeg","007.jpeg",
      "007.jpeg","007.jpeg","007.jpeg","007.jpeg","007.jpeg",
      "007.jpeg","007.jpeg","007.jpeg","007.jpeg","007.jpeg",
      "007.jpeg","007.jpeg","007.jpeg","007.jpeg","007.jpeg",
    ];

    photos.sort((a,b) => a.localeCompare(b, undefined, { numeric:true, sensitivity:"base" }));

    const grid = document.getElementById("photoGrid");
    const lightboxOverlay = document.getElementById("lightboxOverlay");
    const lightboxImage = document.getElementById("lightboxImage");

    photos.forEach(file => {
      const img = document.createElement("img");
      img.src = `img/${file}`;
      img.alt = file;
      img.loading = "lazy";
      img.style.cursor = "pointer";
      img.addEventListener("click", () => {
        lightboxImage.src = img.src;
        lightboxOverlay.style.display = "flex";
      });
      grid.appendChild(img);
    });

    // Close lightbox when clicked
    lightboxOverlay.addEventListener("click", () => {
      lightboxOverlay.style.display = "none";
      lightboxImage.src = "";
    });

    // ===== Code Lock Section =====
    const correctCode = "8886";
    const overlay = document.getElementById("lockOverlay");
    const input = document.getElementById("accessCode");
    const message = document.getElementById("lockMessage");
    const lockForm = document.getElementById("lockForm");
    const body = document.body;

lockForm.addEventListener("submit", (e) => {
  e.preventDefault();
  if (input.value === correctCode) {
    overlay.style.display = "none"; // hide the overlay
    body.classList.remove("locked");
  } else {
    message.innerHTML = 'Incorrect code. Try again.<br><span style="color:white;">Hint: last four digits of phone number.</span>';
    input.value = "";
  }
});

    // Mobile toggle
    const mobileToggle = document.querySelector('.mobile-toggle');
    const sidePanel = document.getElementById('sidePanel');
    const closePanel = document.getElementById('closePanel');

    mobileToggle.addEventListener('click', () => sidePanel.classList.add('open'));
    closePanel.addEventListener('click', () => sidePanel.classList.remove('open'));
  </script>

</body>
</html>